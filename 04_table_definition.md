# 一つ目のテーブル定義書レビュー
 
## 全体
- テーブル名の先頭は小文字にしてください。データベースの命名規則として原則大文字は利用しないです。
- 複数単語の場合、命名規則としてスネークケースを利用します。Cart item,Buy detailsテーブルの名前がスネークケースで記述できていません。
- created_atとupdated_atのカラム説明が同じになっておりますが、意図はありますでしょうか。
- "id"は全てのテーブルに必要ですが、準備されていますか。
  
- [add] "id"は全てのテーブルに必要ですが、準備されていますか。個別に指摘していただいている箇所もありますが、全体の指摘事項として、追記してください。

## admin
- admin_id,admin_email,admin_passwordについてです。テーブル名はカラム名の頭につけないです。テーブル名がadminとなっているので、テーブル名をつける必要がありません。
- PKがチェックされていません。どのカラムがPKに該当するかを再検討してみてください。

## users
- PKとなるカラム名はidです。
- 配送先が一つしか登録できないようですが、複数登録できるようにする必要があります。

- user_email,user_password,user_tel,user_l_name,user_f_name,user_l_kana,user_f_kanaについてです。上記と重複してしまうのですが、テーブル名はカラム名の頭につけないです。
  - カラム名に略名は原則として、使わないです。それぞれを略名を使用しないカラム名に変更してください。

-電話番号カラムと郵便番号カラムはstringにしましょう。
*自分の電話番号を試しに電卓で打ってみてみてください。
正しく表示されましたか？

基本的にこれらの項目は、
* 先頭のゼロに意味がある
* 計算に使う値ではない
という理由で、integerでは持たないことが多いです。

-退会ステータスがstringになっていますが、退会が真か偽か分かれば良いのでboolean型が推奨されます。

-songs,labels,artists,genre,cart_itemテーブルについてです。PKがありません。レコードを一意に識別するために必要です。
  - [check]各テーブルで指摘するか、全体の指摘事項としてまとめると分かりやすいです。

## products
-products・discs・labels・artists・genre・cart_itemテーブルについてです。products_idなのですが、外部キーはテーブル名単数形_idとなります。
    - また、productsテーブルの"products_id"はPKなのに対し、他テーブルはFKとなっています。discs,labels,artists,genre,cart_itemテーブルについても、命名規則は同様です

-上記と重複してしまうのですが、在庫ステータスがstringになっていますが、

在庫ステータス
---
販売中
販売停止中
販売中
販売中
販売中
販売停止中
：

のようにデータが入っていくのでしょうか。
ステータスのようなデータをstringで持つのは、
* 全角文字でデータサイズが大きくなる
* 文字列を変えたくなった場合、大量のレコードをUPDATEする必要がある
などの理由で、好ましくありません。
「enum」で調べてみてください。

- cd_titleの冒頭の"cd_"は必要ありません。商品のタイトルであることは、テーブル名によって明示されています。
- stock_statusは在庫ステータスですが、必要ありません。また、在庫数のカラムも必要ありません。
- disc_idは必要でしょうか。商品：ディスクは1:Nになるので、ディスクテーブルにおいて商品idを持たせる形が適切です。
- 入荷テーブルを作成して入荷数を管理する必要があります。入荷テーブルを作成しない場合,計算ミスが発生しやすいです。そのため計算ミスを減らすために必要です。

## songs 
- PKがチェックされていません。どのようなカラムがPKに該当させるかを再検討してみてください。
- songカラムの説明が曲名となっていましたが、名前であると一目みてわかるような命名にする必要があります。テーブル名がsongsなのでsongカラムでは少し混乱を招きやすいかと思います。
  - "label", "artists", "genre"の各テーブルでも同様のことが言えます。再度確認してみてください。
- songカラムはinteger型となっておりますが、曲名はかならずintegerで記述が出来ますでしょうか。

## artists
-FKにAUTO INCREMENTがついていますが、一つの商品には複数の曲が保存されています。歌う人が異なる場合にはデータにどのように保存を行うのでしょうか。
 - [check]songs同様に、PKのつもりで付けたのでしょう。ですので、指摘としては「disc_idをPKとして、カラム名を見直す」というのが適切になります。
- artistカラムがinteger型となっております。アーティスト名はかならず整数で記述が出来ますでしょうか。

## genre
- artistカラムがinteger型となっております。ジャンル名はかならず整数で記述が出来ますでしょうか。

## buy_details
- 命名規則として、複数単語のカラム名はスネークケースにします。
- 命名規則として、"buy_details"ですと「購入詳細」という意味となり、エンドユーザー側の視点のみとなってしまいます。データベースの情報は管理者が利用するので、管理者側から見た呼び方にしておきましょう。
- "buy_num"は直訳すると「番号を買う」となり、購入枚数とはやや意味合いが異なってきます。再度カラム名を検討してみましょう。

## buy 
- リレーションを考えた時、そもそも"buy_details_id"は必要でしょうか。再度検討してみましょう。
- 命名規則として、"buy"ですと「購入する」という意味となり、エンドユーザー側の視点のみとなってしまいます。データベースの情報は管理者が利用するので、注文が分かるような管理者側から見た呼び方にしておきましょう。
- 支払い方法のカラムがpayとなっておりますが、支払い金額なのか、支払い方法なのか混乱しやすい命名だと思います。意味が分かりやすいカラム名にしましょう。
- 支払い方法のデータ型がstringとなっていますが
支払いデータがstringになっていますが、

支払いデータ
---
クレジットカード
代引き
paypay
paypay
代引き
：

のようにデータが入っていくのでしょうか。
ステータスのようなデータをstringで持つのは、
* 全角文字でデータサイズが大きくなる
* 文字列を変えたくなった場合、大量のレコードをUPDATEする必要がある
などの理由で、好ましくありません。
「enum」で調べてみてください。

- stockですと「在庫」という意味となります。合計を表すように別名を命名しましょう。
- 送付先住所カラムがありますが、郵便番号や宛先氏名は保存しないのでしょうか。

## cart_items
-　cart_itemではなく"cart_items"としましょう。
- "buy num"は直訳すると「番号を買う」「購入番号」となり、カラム説明と意味が異なってきます。適切な単語を選んでください。
- products_idがあるためproductsテーブルから小計金額は計算が可能です。そのためsubtotalカラムは必要ありません。
  
## discs
 - track_numはディスクではなく、曲順を管理するために使う属性ですので、このテーブルに持たせるのは不適切です。
 - 現在のカラム構成ですと、同一商品内で異なるディスクであるかの判断がつきません。ディスクNo、ディスク名などの判断材料が必要となります。
 

# 二つめのテーブル定義書

## 全体
- PKとなるカラム名はidです。
- テーブル名はカラム名に入れなくて大丈夫です。

## admins
- admin_idカラムにINDEXがチェックされていません。
- admin_email,admin_passwordについてです。テーブル名はカラムの頭につけません。

## Users
-退会ステータスがinteger/enumになっていますが、退会が真か偽か分かれば良いのでboolean型が推奨されます。

## ships
- PKのship_idカラムにINDEXがチェックがされていません。
- FKのuser_idカラムにINDEXがチェックがされていません。

## products 
- FKにINDEXがチェックがされていません。
- cd_titleの冒頭の"cd_"は必要ありません。商品のタイトルであることは、テーブル名によって明示されています。
- stock_statusは在庫ステータスですが、必要ありません。
- 在庫ステータスはenumを使用すると管理が便利です。「enum」で調べてみてください。

## discs
- PKとFKのINDEXにチェックがされていません。

## songs
- FKのINDEXにチェックがされていません。

## cart items
- テーブル名はスネークケースにしましょう。
- PK,FKにINDEXがチェックされていません。
- buy numカラムがありますが、カラムはスネークケースにしましょう。

## sell_details
- products_idのFK,INDEX欄にチェックがされていません。

## sells
- PK,FKのINDEXにチェックがされていません。
- buyを直訳すると「買う」となり、購入方法だと理解するのは難しいです。再度カラム名を検討してみましょう。


